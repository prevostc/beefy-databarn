version: 2

models:
  - name: stg_beefy_api__gov_vaults
    description: "Staging model for governance vaults from dlt beefy_api dataset"
    columns:
      - name: id
        description: "Governance vault identifier (primary key)"
        tests:
          - not_null
          - unique
      - name: assets
        description: "Array of asset information (JSON string)"
      - name: risks
        description: "Risk information (JSON string)"
      - name: migration_ids
        description: "Migration IDs (JSON string)"
      - name: point_structure_ids
        description: "Point structure IDs (JSON string)"
      - name: earned_oracle_ids
        description: "Earned oracle IDs (JSON string)"
      - name: earned_tokens
        description: "Earned tokens (JSON string)"
      - name: earned_token_addresses
        description: "Earned token addresses (JSON string)"
      - name: earned_token_decimals
        description: "Earned token decimals (JSON string)"
      - name: zaps
        description: "Zap information (JSON string)"
      - name: name
        description: "Vault name"
      - name: type
        description: "Vault type"
      - name: version
        description: "Vault version"
      - name: token
        description: "Token address"
      - name: token_address
        description: "Token address"
      - name: token_decimals
        description: "Token decimals"
      - name: token_provider_id
        description: "Token provider ID"
      - name: earn_contract_address
        description: "Earn contract address"
      - name: earned_token
        description: "Earned token"
      - name: oracle
        description: "Oracle"
      - name: oracle_id
        description: "Oracle ID"
      - name: status
        description: "Vault status"
      - name: created_at
        description: "Creation timestamp"
      - name: platform_id
        description: "Platform ID"
      - name: strategy_type_id
        description: "Strategy type ID"
      - name: network
        description: "Network"
      - name: is_gov_vault
        description: "Whether this is a governance vault"
      - name: chain
        description: "Chain information"
      - name: total_supply
        description: "Total supply (stored as string to handle large numbers)"
      - name: last_harvest
        description: "Last harvest timestamp"
      - name: earned_token_decimals__v_bigint
        description: "Earned token decimals as bigint (variant column from dlt)"
      - name: retired_at
        description: "Retirement timestamp"
      - name: retire_reason
        description: "Retirement reason"
      - name: earned_token_address
        description: "Earned token address"
      - name: excluded
        description: "Excluded status"
      - name: buy_token_url
        description: "Buy token URL"
      - name: updated_at
        description: "Update timestamp"
      - name: earning_points
        description: "Whether earning points"
