version: 2

models:
  - name: stg_beefy_api_configs__vaults
    description: "Staging model for vaults from dlt beefy_api_configs dataset"
    columns:
      - name: id
        description: "Vault identifier (primary key)"
        tests:
          - not_null
          - unique
      - name: assets
        description: "Array of asset information (JSON string)"
      - name: risks
        description: "Risk information (JSON string)"
      - name: migration_ids
        description: "Migration IDs (JSON string)"
      - name: point_structure_ids
        description: "Point structure IDs (JSON string)"
      - name: zaps
        description: "Zap information (JSON string)"
      - name: name
        description: "Vault name"
      - name: type
        description: "Vault type"
      - name: token
        description: "Token address"
      - name: token_address
        description: "Token address"
      - name: token_decimals
        description: "Token decimals"
      - name: token_provider_id
        description: "Token provider ID"
      - name: earn_contract_address
        description: "Earn contract address"
      - name: earned_token
        description: "Earned token"
      - name: earned_token_address
        description: "Earned token address"
      - name: oracle
        description: "Oracle"
      - name: oracle_id
        description: "Oracle ID"
      - name: status
        description: "Vault status"
      - name: created_at
        description: "Creation timestamp"
      - name: platform_id
        description: "Platform ID"
      - name: strategy_type_id
        description: "Strategy type ID"
      - name: add_liquidity_url
        description: "Add liquidity URL"
      - name: remove_liquidity_url
        description: "Remove liquidity URL"
      - name: network
        description: "Network"
      - name: is_gov_vault
        description: "Whether this is a governance vault"
      - name: chain
        description: "Chain information"
      - name: strategy
        description: "Strategy information"
      - name: price_per_full_share
        description: "Price per full share"
      - name: last_harvest
        description: "Last harvest timestamp"
      - name: retire_reason
        description: "Retirement reason"
      - name: retired_at
        description: "Retirement timestamp"
      - name: buy_token_url
        description: "Buy token URL"
      - name: lending_oracle__provider
        description: "Lending oracle provider"
      - name: lending_oracle__address
        description: "Lending oracle address"
      - name: paused_at
        description: "Paused timestamp"
      - name: curator_id
        description: "Curator ID"
      - name: underlying_platform_url
        description: "Underlying platform URL"
      - name: updated_at
        description: "Update timestamp"
      - name: deposit_fee
        description: "Deposit fee"
        tests:
          - dbt_utils.accepted_range:
              arguments:
                min_value: 0
                max_value: 1
                inclusive: true
      - name: pause_reason
        description: "Pause reason"
      - name: refund
        description: "Whether refund is available"
      - name: refund_contract_address
        description: "Refund contract address"
      - name: show_warning
        description: "Whether to show warning"
      - name: warning
        description: "Warning message"
      - name: earning_points
        description: "Whether earning points"
      - name: pool_together
        description: "Pool together information"
      - name: retired_reason
        description: "Retired reason"
      - name: bridged__optimism
        description: "Bridged to Optimism"
      - name: bridged__base
        description: "Bridged to Base"
      - name: bridged__sonic
        description: "Bridged to Sonic"

